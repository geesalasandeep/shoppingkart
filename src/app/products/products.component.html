<input type="text" class="form-control mb-3 mt-2 border border-dark"
placeholder="Search By Names" *ngIf = "this.auth.isLogin()" [(ngModel)] = "searchItem" >
<div id="back">
<div *ngIf = "isLoading" class="text-center mt-5">
    <app-spinner></app-spinner>
        <div class="text-danger"> Loading...... </div>
</div>
<div class="alert alert-danger" *ngIf="error" >
{{ error }}
</div>
<div class="alert alert-success" *ngIf = "message">
{{ message }}
</div>



<div class="wrapper">
    <div class="row">
        <div class="col-md-3 mt-2 mb-3 ml-1 " *ngFor = "let product of products | search : searchItem " >
            <div class="card">
                <img [src]="product.productImageURL"
                 [alt]="product.productName"
                 height="200px" width="100%">
                 <div class="card-body">
                     <div>
                         {{ product.productName }}
                     </div>
                     <div>
                         {{ product.productPrice | currency : 'INR' }}
                     </div>
                 </div>
                 <div class="card-footer">
                     <button class="btn btn-warning me-4"
                      data-bs-toggle="modal"
                       data-bs-target="#editProduct" *ngIf = "this.auth.isAdmin()"
                       (click)="onEditProduct(product)">Edit...</button>
                     <button class="btn btn-danger" *ngIf = "this.auth.isAdmin()" (click) = "onDelete(product)" >Delete</button></div>
            </div>
        </div>
    </div>
</div>





  <!-- Modal -->
  <div class="modal fade" id="editProduct" tabindex="-1" aria-labelledby="editProductLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title fw-bold text-success" id="editProductLabel">Edit {{ selectedProductToEdit?.productName }} </h5>
          <button type="button" #close class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <form #editProductForm = "ngForm" *ngIf = "selectedProductToEdit" (ngSubmit) ="onFormSubmit()" >
                <div class="form-group">
                    <label for="productname" class="form-label">ProductName</label>
                        <input type="text" class="form-control"
                        ngModel name="productName"
                        #productName = "ngModel" [(ngModel)] = "selectedProductToEdit.productName" >
                    </div>
                    <div class="form-group">
                        <label for="productprice" class="form-label">productprice</label>
                            <input type="number" class="form-control"
                            ngModel name="productPrice"
                            #productprice = "ngModel" >
                        </div>
                        <div class="form-group">
                            <label for="productImageURL" class="form-label">productImageURL</label>
                                <input type="text" class="form-control"
                                ngModel name="productImageURL"
                                #productImageURL = "ngModel" [(ngModel)] = "selectedProductToEdit.productImageURL">
                            </div>
                            <div class="form-group">
                                <label for="productDescription" class="form-label">productDescription</label>
                                    <input type="text" class="form-control"
                                    ngModel name="productDescription"
                                    #productDescription = "ngModel" [(ngModel)] = "selectedProductToEdit.productDescription">
                                </div>

                                <div class="card-footer">
                                    <button type="submit" class="btn btn-primary me -2">Submit</button>
                                    <button type="reset" class="btn btn-secondary">Reset</button></div>
           </form>
        </div>
        
      </div>
    </div>
  </div>
  </div>